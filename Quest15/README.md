# Quest 15. 자동화된 테스트

## Introduction
* 이번 퀘스트에서는 자동화된 테스트에 어떤 장점이 있는지, 어떤 식으로 구축할 수 있는지에 대해 알아보겠습니다.

## Topics
* Automated Test
  * TDD
  * Unit Test
  * Integration Test
  * E2E Test
  * Stub & Mock
* Jest
* Puppeteer

## Resources
* [Unit Test (단위 테스트) 도입하기](https://www.popit.kr/unit-test-%EB%8B%A8%EC%9C%84-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EB%8F%84%EC%9E%85%ED%95%98%EA%B8%B0-1%ED%8E%B8/)
* [소프트웨어 테스트 안티 패턴](https://velog.io/@leejh3224/%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%95%88%ED%8B%B0-%ED%8C%A8%ED%84%B4)
* [End-to-End testing with Puppeteer and Jest](https://medium.com/touch4it/end-to-end-testing-with-puppeteer-and-jest-ec8198145321)
* [Mock & Stub](https://stackoverflow.com/questions/3459287/whats-the-difference-between-a-mock-stub)

## Checklist
* 자동화된 테스트를 만드는 것에는 어떤 장점과 단점이 있을까요?
- 장점:
자동화된 테스트를 통해 코드 변경이나 리팩토링 등으로 인해 기존에 동작하던 기능이 영향을 받았는지 쉽게 파악할 수 있습니다.
개발자는 테스트 케이스를 수작업으로 실행하지 않아도 되므로 개발 시간을 단축할 수 있습니다.
자동화된 테스트는 반복 가능하며, 일관된 결과를 보장합니다.
개발자가 새로운 기능을 추가할 때, 먼저 기존의 코드가 예상대로 동작하는지 확인할 수 있습니다.

단점:
자동화된 테스트 케이스를 만드는 것은 수작업으로 이루어지며, 일정 시간과 노력이 필요합니다.
자동화된 테스트를 만들기 위해 추가적인 코드 작성이 필요합니다.
모든 시나리오를 커버하지 않는 경우도 있으며, 이러한 경우 버그가 발생할 가능성이 있습니다.
어떤 테스트 케이스는 자동화하기 어려울 수 있습니다.

  * TDD(Test-Driven Development)란 무엇인가요? TDD의 장점과 단점은 무엇일까요?
  - TDD(Test-Driven Development)란, 소프트웨어 개발 방법 중 하나로, 테스트 케이스를 먼저 작성하고 그에 맞게 소스 코드를 작성하는 방법론입니다.
  장점:
  테스트 케이스를 먼저 작성하므로 코드를 작성하기 전에 요구사항을 명확히 이해하게 됩니다.
테스트 케이스가 항상 통과되도록 코드를 작성하므로 코드의 품질이 높아집니다.
코드를 변경할 때마다 테스트 케이스를 실행하므로 코드의 안정성이 높아집니다.
기능 변경에 대한 검증이 용이하므로 코드 리팩토링 및 유지보수가 쉬워집니다.

단점:
초기 투자 비용이 높습니다. 테스트 케이스를 작성하고 코드를 작성하는 데 시간이 더 소요되기 때문입니다.
테스트 케이스 작성에 대한 높은 수준의 기술력이 필요합니다.
모든 코드에 대한 테스트 케이스를 작성하는 것은 어렵습니다.
테스트 케이스에 대한 유지보수 비용이 추가됩니다.

* 테스트들 간의 계층에 따라 어떤 단계들이 있을까요?
- 단위 테스트(Unit Test): 코드의 개별적인 구성 요소(함수, 메서드 등)를 테스트하는 것으로, 작은 범위에서 실행됩니다.
통합 테스트(Integration Test): 각 구성 요소가 모두 결합되었을 때 예상대로 작동하는지 검증하는 것으로, 여러 구성 요소 간의 상호 작용을 테스트합니다.
시스템 테스트(System Test): 전체 시스템을 테스트하여 요구 사항이 충족되고 예상대로 작동하는지 확인합니다.
인수 테스트(Acceptance Test): 사용자 또는 고객이 요구하는 기능이 정확히 구현되어 있는지 확인합니다. 일반적으로 사용자 시나리오를 기반으로 수행됩니다.
성능 테스트(Performance Test): 시스템의 성능을 측정하고 병목 현상이나 느린 부분을 파악합니다.
보안 테스트(Security Test): 시스템의 보안 취약성을 확인하고 보안 문제를 찾습니다.

  * 유닛 테스트, 통합 테스트, E2E 테스트는 각각 어떤 것을 뜻하나요?
  - 유닛 테스트(Unit Test):
소프트웨어의 각 기능을 단위별로 검증하는 테스트 방법입니다.
테스트 대상 함수 또는 모듈을 독립적으로 테스트하여 결과를 검증합니다.
테스트를 위해 모의 객체(Mock Object)나 스텁(Stub)을 사용할 수 있습니다.
통합 테스트(Integration Test):
각각의 유닛이 조합되어 동작하는 전체 시스템의 테스트를 검증하는 테스트 방법입니다.
각각의 모듈이나 구성요소가 서로 상호작용하는 부분을 검증합니다.
테스트를 위해 실제 데이터나 서비스 등의 환경을 구성하여 검증합니다.
E2E(End-to-End) 테스트:
사용자의 시점에서 시스템이 동작하는 것을 검증하는 테스트 방법입니다.
전체 시스템의 동작을 검증하기 위해 실제 사용자 환경과 유사한 환경을 구성합니다.
시스템의 모든 레이어를 포함하여 검증하므로 상대적으로 시간이 오래 걸릴 수 있습니다.

  * 테스트에 있어서 Stub과 Mock은 어떤 개념을 가리키는 것일까요?
  - 테스트에서 Stub과 Mock은 둘 다 테스트 대상 코드가 외부 의존성(외부 API 호출, 데이터베이스 쿼리 등)을 가지고 있을 때 그 의존성을 대체하는 용도로 사용됩니다. Stub은 특정한 입력에 대해 미리 정해진 출력을 반환하는 가짜 함수를 만드는 것입니다. 반면 Mock은 특정한 상황에서 호출되는 함수에 대한 기대치를 설정하고, 이를 검증하는 방법입니다. 둘 다 외부 의존성을 대체하는 용도로 사용되지만, Stub은 단순히 미리 정해진 값을 반환하는 함수를 만드는 반면에, Mock은 호출이 발생했는지 여부와 함께 호출에 대한 기대치를 검증할 수 있습니다.

* Jest는 어떤 일을 하며 어떻게 사용하는 테스트 프레임워크일까요?
- Jest는 자바스크립트 및 타입스크립트를 위한 테스트 프레임워크입니다. Jest는 테스트 러너, 어설션 라이브러리 및 mocking 라이브러리의 모든 기능을 제공합니다. Jest는 단위 테스트, 통합 테스트 및 E2E 테스트 모두를 지원하며, 병렬로 테스트를 실행하여 빠른 결과를 얻을 수 있습니다. Jest는 npm으로 설치할 수 있으며, 테스트 파일은 "test" 또는 "tests" 폴더에 위치해야 합니다

  * Jest 이외의 테스트 프레임워크는 어떤 것이 있고 어떤 장단점이 있을까요?
  - Mocha: BDD: 유연하게 사용할수있고 다양한 어설션 라이브러리와 플러그인이 존재합니다 하지만 설정이 복잡하며 스파게티 코드가 될 가능성이 있습니다.
  Jasmine: BDD: Mocha와 마찬가지로 다양한 어설션 라이브러리와 스파이(spy), 모의(mock) 객체를 지원합니다. Jest보다 조금 무겁고 느릴 수 있습니다.
  Ava: Jest와 마찬가지로 병렬 실행이 가능하고, 빠른 실행 속도를 자랑합니다. 그러나 Jest보다는 기능이 제한적이고, 커버리지 보고서 생성이 어렵습니다.
  Tape: TDD와 함께 사용하기 좋습니다. Jest와 같은 풍부한 기능을 제공하지는 않지만, 가벼운 테스트를 작성할 때 유용합니다.

* Puppeteer는 어떤 일을 하며 어떻게 사용하는 테스트 프레임워크일까요?
- Puppeteer는 브라우저를 조작할 수 있는 자바스크립트 API를 제공합니다. 이를 이용하여 사용자의 액션(클릭, 키보드 입력 등)을 시뮬레이션하고 페이지 내부의 DOM 객체를 조작할 수 있습니다. 또한, headless 브라우저이기 때문에 실제 브라우저를 띄우지 않고도 웹 페이지의 렌더링 결과물을 확인할 수 있습니다.


## Quest
* 직전 퀘스트의 메모장의 서버와 클라이언트 각 부분에 유닛 테스트, 통합 테스트, E2E 테스트 등을 추가해 보세요.
  * `npm test` 명령을 통해 모든 테스트가 돌고 그 결과를 출력할 수 있어야 합니다.

## Advanced
* 테스트의 커버리지는 어떤 개념일까요? 프로젝트에서 테스트의 커버리지는 어떻게 접근하는 것이 좋을까요?
